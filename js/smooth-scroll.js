!function(l){function t(l){return l.replace(/(:|\.)/g,"\\$1")}var e=function(t){var e=[],o=!1,r=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=l(this);t[r]()>0?e.push(this):(t[r](1),(o=t[r]()>0)&&e.push(this),t[r](0))}}),e.length||this.each(function(){"BODY"===this.nodeName&&(e=[this])}),"first"===t.el&&e.length>1&&(e=[e[0]]),e};l.fn.extend({scrollable:function(l){var t=e.call(this,{dir:l});return this.pushStack(t)},firstScrollable:function(l){var t=e.call(this,{el:"first",dir:l});return this.pushStack(t)},smoothScroll:function(e){e=e||{};var o=l.extend({},l.fn.smoothScroll.defaults,e),r=l.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(e){var n=l(this),s=o.exclude,i=o.excludeWithin,c=0,a=0,h=!0,f={},u=location.hostname===this.hostname||!this.hostname,d=o.scrollTarget||(l.smoothScroll.filterPath(this.pathname)||r)===r,m=t(this.hash);if(o.scrollTarget||u&&d&&m){for(;h&&s.length>c;)n.is(t(s[c++]))&&(h=!1);for(;h&&i.length>a;)n.closest(i[a++]).length&&(h=!1)}else h=!1;h&&(e.preventDefault(),l.extend(f,o,{scrollTarget:o.scrollTarget||m,link:this}),l.smoothScroll(f))}),this}}),l.smoothScroll=function(t,e){var o,r,n,s,i=0,c="offset",a="scrollTop",h={},f={};"number"==typeof t?(o=l.fn.smoothScroll.defaults,n=t):(o=l.extend({},l.fn.smoothScroll.defaults,t||{})).scrollElement&&(c="position","static"==o.scrollElement.css("position")&&o.scrollElement.css("position","relative")),a="left"==(o=l.extend({link:null},o)).direction?"scrollLeft":a,o.scrollElement?(r=o.scrollElement,i=r[a]()):r=l("html, body").firstScrollable(),o.beforeScroll.call(r,o),n="number"==typeof t?t:e||l(o.scrollTarget)[c]()&&l(o.scrollTarget)[c]()[o.direction]||0,h[a]=n+i+o.offset,"auto"===(s=o.speed)&&(s=h[a]||r.scrollTop(),s/=o.autoCoefficent),f={duration:s,easing:o.easing,complete:function(){o.afterScroll.call(o.link,o)}},o.step&&(f.step=o.step),r.length?r.stop().animate(h,f):o.afterScroll.call(o.link,o)},l.smoothScroll.version="1.4.10",l.smoothScroll.filterPath=function(l){return l.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},l.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2}}(jQuery);